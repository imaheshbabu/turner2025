<mat-card
  class="playlist-card"
  (click)="onCardClick()"
  (keydown.enter)="onCardClick()"
  (keydown.space)="onCardClick($event)"
  tabindex="0"
  role="button"
  [attr.aria-label]="'View playlist: ' + playlist.name"
>
  @if (playlist.artwork) {
    <div class="card-image-container">
      <img
        mat-card-image
        [src]="playlist.artwork"
        [alt]="playlist.name + ' playlist cover'"
        class="card-image"
        loading="lazy"
      />
      <div class="image-overlay">
        <mat-icon class="play-icon" aria-hidden="true"
          >play_circle_filled</mat-icon
        >
      </div>
    </div>
  } @else {
    <div class="card-image-placeholder">
      <mat-icon class="placeholder-icon" aria-hidden="true"
        >library_music</mat-icon
      >
    </div>
  }
  <mat-card-header class="card-header">
    <mat-card-title class="card-title">{{ playlist.name }}</mat-card-title>
    <mat-card-subtitle class="card-subtitle">
      by {{ playlist.curator_name }}
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content class="card-content">
    <p class="description">{{ playlist.kind }} playlist</p>
    <div class="stats-container">
      <div class="stat-item">
        <mat-icon class="stat-icon" aria-hidden="true">link</mat-icon>
        <span class="stat-text">Apple Music</span>
      </div>
    </div>
  </mat-card-content>
  <mat-card-actions class="card-actions">
    <button
      mat-button
      color="primary"
      (click)="onViewClick($event)"
      aria-label="View playlist details"
    >
      <mat-icon>visibility</mat-icon>
      View Details
    </button>
    <button
      mat-icon-button
      color="accent"
      (click)="onPlayClick($event)"
      aria-label="Play playlist"
    >
      <mat-icon>play_arrow</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
